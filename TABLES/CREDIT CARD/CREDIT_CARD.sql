CREATE TABLE CREDIT_CARD
(
    CREDIT_CARD_ID NUMBER(10) GENERATED BY DEFAULT AS IDENTITY,
    CUSTOMER_ID NUMBER(10) NOT NULL,
    CARD_NUMBER VARCHAR2(16) NOT NULL UNIQUE ,
    EXPIRATION_DATE DATE NOT NULL ,
    CV2_CODE VARCHAR2(3) NOT NULL ,
    
    CONSTRAINT PK_CREDIT_CARD_ID
    PRIMARY KEY(CREDIT_CARD_ID),
    
    CONSTRAINT FK_CREDIT_CARD_CUSTOMER_ID
    FOREIGN KEY(CUSTOMER_ID)
    REFERENCES CUSTOMER (CUSTOMER_ID)
    ON DELETE CASCADE,
    
    CONSTRAINT CHECK_CARD_NUMBER
    CHECK(LENGTH(CARD_NUMBER)=16),
    
    CONSTRAINT CHECK_CV2_CODE
    CHECK(LENGTH(CV2_CODE)=3)


);